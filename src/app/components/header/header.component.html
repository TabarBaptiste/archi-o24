<header class="header">
    <div class="header-content">
        <div class="logo">
            <a [routerLink]="['/']" rel="noopener">
                <img src="favicon.ico" alt="Angular Logo">
            </a>
        </div>
        <nav class="nav-links">
            <ul>
                <li><a [routerLink]="['/']">Home</a></li>
                <li><a [routerLink]="['/countries-list']">Pays</a></li>
                
                <!-- Menu déroulant pour login/register (affiché seulement si non connecté) -->
                <li *ngIf="!isLoggedIn" class="dropdown">
                    <button class="dropdown-toggle" (click)="toggleDropdown()">
                        Connexion
                        <span class="arrow" [class.rotate]="showDropdown">▼</span>
                    </button>
                    <div class="dropdown-menu" [class.show]="showDropdown" (click)="closeDropdown()">
                        <a [routerLink]="['/login']" class="dropdown-item">Login</a>
                        <a [routerLink]="['/register']" class="dropdown-item">Register</a>
                    </div>
                </li>
                
                <!-- Section utilisateur connecté (affiché seulement si connecté) -->
                <li *ngIf="isLoggedIn && currentUser" class="user-dropdown">
                    <button class="user-toggle" [routerLink]="['/profile']">
                        Bonjour, {{ currentUser.name }}
                        <span class="arrow">▼</span>
                    </button>
                    <div class="user-menu">
                        <a [routerLink]="['/profile']" class="user-menu-item">Mon Profil</a>
                        <button (click)="logout()" class="user-menu-item logout-item">Déconnexion</button>
                    </div>
                </li>
                
                <li><a [routerLink]="['/about']">About</a></li>
                <li><a [routerLink]="['/contact']">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>